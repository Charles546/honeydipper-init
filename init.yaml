---
repos:
  - repo: https://github.com/honeydipper/honeydipper-config-essentials.git
    branch: main
  - repo: https://github.com/honeydipper/honeydipper-config-essentials.git
    branch: CH-vault
    path: vault

drivers:
  daemon:
    configCheckInterval: 60m

  redisqueue: &redis
    connection:
      Addr: "{% .env.REDIS_ADDR %}"
      Password: "{% .env.REDIS_AUTH %}"
  redispubsub: *redis
  redislock: *redis
  api-broadcast: *redis

  kubernetes:
    api_timeout: "30"

  vault:
    addr: https://vault.m4cloud.duckdns.org:8200
    k8sRole: honeydipper

systems:
  slack_bot:
    data:
      token: LOOKUP[vault,/secret/data/honeydipper/slack#bot_token]
      interact_token: $?nil
      slash_token: $?nil
      signatureHeader: X-Slack-Signature
      signatureSecret: LOOKUP[vault,/secret/data/honeydipper/slack#signing_secret]
