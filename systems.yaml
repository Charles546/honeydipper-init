---
systems:
  slack_bot:
    data:
      token: LOOKUP[vault,/secret/data/honeydipper/slack#bot_token]
      interact_token: $?nil # use signature
      slash_token: $?nil # use signature
      signatureHeader: X-Slack-Signature
      signatureSecret: LOOKUP[vault,/secret/data/honeydipper/slack#signing_secret]

  github:
    data:
      tokenSource: hd_github_app
      signatureHeader: X-Hub-Signature-256
      signatureSecret: LOOKUP[vault,/secret/data/honeydipper/github#signing_secret]
      token: $?nil # use signature

  ollama:
    functions:
      chat:
        driver: ollama
        rawAction: chat
        parameters:
          engine: $ctx.engine,sysData.engine
          convID: $ctx.convID
          prompt: $ctx.prompt
        export_on_success:
          counter: $?data.counter
          convID: $?ctx.convID
          busy: $?data.busy

      chatContinue:
        driver: ollama
        rawAction: chatContinue
        parameters:
          convID: $ctx.convID
          counter: $ctx.counter
        export_on_success:
          content: $data.content
          done: $data.done

      chatStop:
        driver: ollama
        rawAction: chatStop
        parameters:
          convID: $ctx.convID
          counter: $ctx.counter
        export:
          raw: $data

  deepseek-r1:
    extends:
      - ollama
    data:
      engine: deepseek-r1:1.5b
